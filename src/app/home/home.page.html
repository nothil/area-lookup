<ion-content [fullscreen]="true" scrollEvents="true">
  <ion-header translucent="true">
    <ion-toolbar color="primary">
      <ion-title>ðŸŒ¤ Weather App</ion-title>
    </ion-toolbar>
  </ion-header>

  <div class="search">
    <ion-item lines="none">
      <ion-input
        [(ngModel)]="cityName"
        placeholder="Enter city name"
        fill="outline"
      ></ion-input>
      <ion-button slot="end" expand="block" (click)="fetchWeather()"
        >Search</ion-button
      >
    </ion-item>
    <ion-item lines="none">
      <ion-input
        [(ngModel)]="cityName"
        placeholder="Search saved city"
        fill="outline"
      ></ion-input>
      <ion-button slot="end" expand="block" (click)="fetchWeather()"
        >Search</ion-button
      >
    </ion-item>
  </div>

  <div class="weather-info" *ngIf="weather">
    <ion-card-header>
      <ion-card-title>{{ weather.name }}</ion-card-title>
      <ion-card-subtitle>{{ weather.weather[0].main }}</ion-card-subtitle>
    </ion-card-header>
    <ion-item lines="none">
      <ion-icon name="thermometer-outline" slot="start"></ion-icon>
      <ion-label> {{ weather.main.temp }}Â°C</ion-label>
    </ion-item>
    <ion-item lines="none">
      <ion-icon name="leaf-outline" slot="start"></ion-icon>
      <ion-label> {{ weather.wind.speed }} m/s</ion-label>
    </ion-item>
    <ion-item>
      <ion-icon name="water-outline" slot="start"></ion-icon>
      <ion-label>Condition: {{ weather.weather[0].description }}</ion-label>
    </ion-item>

    <ion-button
      class="save-button"
      fill="clear"
      size="small"
      (click)="saveToFavorites()"
      >Save to Favorites</ion-button
    >
  </div>

  <div class="favorites">
    <ion-list-header>Favorites</ion-list-header>
    <ion-item *ngFor="let city of favoriteCities" (click)="fetchWeather(city)">
      {{ city }}
    </ion-item>
  </div>
</ion-content>
